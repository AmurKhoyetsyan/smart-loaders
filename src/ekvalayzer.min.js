/**
 * Copyright (c) Amur 2020
 * 
 * Smart Loaders
 * https://github.com/AmurKhoyetsyan/smart-loaders
 * 
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

!function(){let e=e=>{if(e.hasAttribute("title")){let t=e.hasAttribute("title-color")?e.getAttribute("title-color"):"#FFFFFF",i=document.createElement("DIV");i.classList.add("sl-loader-title"),i.setAttribute("style",`--cl: ${t}`);let r=document.createElement("SPAN");r.innerText=e.getAttribute("title"),i.appendChild(r),e.appendChild(i)}},t=e=>{let t=parseFloat(e);return 0===t?0:(t/100).toFixed(2)},i=e=>e.hasAttribute("loader-color")?e.getAttribute("loader-color"):"#FFFFFF",r=(r,a)=>{let l=document.createElement("DIV");l.classList.add("sl-loader-items");let n=document.createElement("DIV");n.classList.add("sl-loader");let o=r.hasAttribute("size")?t(r.getAttribute("size")):1;n.setAttribute("style",`--size: ${o}`),[{w:2,i:1},{w:1,i:0},{w:2,i:1},{w:1,i:2},{w:2,i:1},{w:1,i:0},{w:2,i:2}].map(e=>{let t=document.createElement("DIV");t.classList.add("sl-parent-rectangular");let a=document.createElement("DIV");a.classList.add("sl-rectangular"),a.setAttribute("style",`--w: ${e.w}; --i: ${e.i}; --bg: ${i(r)}`),t.appendChild(a),l.appendChild(t)}),n.appendChild(l);let s=document.createElement("STYLE");s.setAttribute("type","text/css"),s.innerText="[data-loader],[data-loader] * {padding: 0;margin: 0;-webkit-box-sizing: border-box;box-sizing: border-box;} [data-loader] .sl-loader-title {width: 100%;text-align: center;font-size: 17px;font-weight: 700;line-height: 1.7;color: var(--cl);} [data-loader], .sl-ekvalayzer {display: -webkit-box;display: -ms-flexbox;display: flex;-webkit-box-orient: vertical;-webkit-box-direction: normal;-ms-flex-direction: column;flex-direction: column;-ms-flex-wrap: nowrap;flex-wrap: nowrap;-webkit-box-align: center;-ms-flex-align: center;align-items: center;-webkit-box-pack: center;-ms-flex-pack: center;justify-content: center;} .sl-ekvalayzer .sl-loader-items {width: 100%;height: 100px;display: -webkit-box;display: -ms-flexbox;display: flex;-webkit-box-pack: center;-ms-flex-pack: center;justify-content: center;-webkit-box-align: end;-ms-flex-align: end;align-items: flex-end;-webkit-box-orient: horizontal;-webkit-box-direction: normal;-ms-flex-direction: row;flex-direction: row;-ms-flex-wrap: nowrap;flex-wrap: nowrap;-webkit-transform: scale(var(--size));transform: scale(var(--size))} .sl-ekvalayzer .sl-loader-items .sl-parent-rectangular {padding: 3px;width: -webkit-min-content;width: -moz-min-content;width: min-content;height: -webkit-min-content;height: -moz-min-content;height: min-content;} .sl-ekvalayzer .sl-loader-items .sl-parent-rectangular .sl-rectangular {width: 10px;background-color: var(--bg);-webkit-box-shadow: 0 0 10px 2px var(--bg);box-shadow: 0 0 10px 2px var(--bg);-webkit-animation: sl-ekvalayzer1 500ms ease-in-out infinite;animation: sl-ekvalayzer1 500ms ease-in-out infinite;-webkit-animation-delay: calc(var(--i) * -100ms);animation-delay: calc(var(--i) * -100ms);} @-webkit-keyframes sl-ekvalayzer1 {from {height: calc(var(--w) * 20px);}50% {height: 80px;}to {height: calc(var(--w) * 20px);}} @keyframes sl-ekvalayzer1 {from {height: calc(var(--w) * 20px);}50% {height: 80px;}to {height: calc(var(--w) * 20px);}}",r.appendChild(s);let d=document.createElement("DIV");d.classList.add("sl-ekvalayzer"),d.appendChild(n),r.appendChild(d),e(r)},a={option:{childList:!0,attributes:!0,characterData:!0,subtree:!0},observer:null,loaders:null,olderLoaders:[]};a.attrListString=function(e){let t="";if(0===e.length)return t;for(let i of e)t+=`${i.name}: ${i.value}; `;return t.trim()},a.equalsNode=function(e,t){let i=e.attributes,r=t.attributes;return i.length===r.length&&a.attrListString(i)===a.attrListString(r)},a.equals=function(){if(this.loaders=document.querySelectorAll("[data-loader]"),null===this.loaders||this.olderLoaders.length!==this.loaders.length)return!1;for(let[e,t]of this.loaders.entries())if(!this.equalsNode(t,this.olderLoaders[e]))return!1;return!0},a.removeAnotherLoaders=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},a.disconnect=function(){if(!this.observer)return!1;this.observer.disconnect()},a.replaceLoader=function(){a.loaders&&!a.equals()&&(a.disconnect(),a.loaders.forEach((e,t)=>a.removeAnotherLoaders(e)),a.addLoaders(),a.start())},a.cloneNodeList=function(e){this.olderLoaders=[],e.forEach((e,t)=>{this.olderLoaders.push(e.cloneNode(!0))})},a.addLoaders=function(){let e=document.querySelectorAll('[data-loader="ekvalayzer"]');null!==e&&(this.loaders=e,this.cloneNodeList(e))},a.connect=function(){this.observer=new MutationObserver(this.replaceLoader)},a.start=function(){this.observer||(this.connect(),this.addLoaders()),this.loaders.length>0&&this.loaders.forEach((e,t)=>r(e,t)),this.observer&&this.observer.observe(document,this.option)},a.start()}();